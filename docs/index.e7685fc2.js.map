{"mappings":"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","sources":["src/js/config.js","src/js/helpers.js","src/js/script.js"],"sourcesContent":["export const API_URLS = {\n  byName: \"https://restcountries.com/v3.1/name/\",\n  byCapital: \"https://restcountries.com/v3.1/capital/\",\n  byLanguage: \"https://restcountries.com/v3.1/lang/\",\n  byRegion: \"https://restcountries.com/v3.1/region/\",\n  bySubRegion: \"https://restcountries.com/v3.1/subregion/\",\n};\n\nexport const TIMEOUT_SEC = 10;\n\nexport const RES_PER_PAGE = 10;\n","import { TIMEOUT_SEC } from \"./config.js\";\n\nconst timeout = function (sec) {\n  return new Promise(function (_, reject) {\n    setTimeout(function () {\n      reject(new Error(`Request took too long! Timeout after ${sec} seconds`));\n    }, sec * 1000);\n  });\n};\n\nexport const getJSON = function (url) {\n  return Promise.race([fetch(url), timeout(TIMEOUT_SEC)])\n    .then((response) => {\n      if (!response.ok)\n        throw new Error(\n          `Nothing was found with provided search options (${response.status})`\n        );\n\n      return response.json();\n    })\n    .catch((error) => {\n      throw error;\n    });\n};\n","import { API_URLS } from \"./config.js\";\nimport { RES_PER_PAGE } from \"./config.js\";\nimport { getJSON } from \"./helpers.js\";\n\n// DOM Selectors\nconst inputEl = document.getElementById(\"inputEl\");\nconst select = document.getElementById(\"select\");\nconst btnSearch = document.getElementById(\"btnSearch\");\nconst dataInfoContainer = document.getElementById(\"dataInfo\");\nconst countriesContainer = document.querySelector(\".countries\");\nconst paginationContainer = document.getElementById(\"paginationContainer\");\n\n// Code State\nconst search = {\n  results: [],\n  page: 1,\n  resultsPerPage: RES_PER_PAGE,\n};\n\n// Event Listeners\n\n// Click - Search Button\nbtnSearch.addEventListener(\"click\", () => {\n  getCountry();\n  // lose focus\n  btnSearch.blur();\n});\n\n// Enter Key Press - Input Element\ninputEl.addEventListener(\"keyup\", (e) => {\n  if (e.key === \"Enter\") {\n    getCountry();\n    // lose focus\n    inputEl.blur();\n  }\n});\n\n// Typing - Input Element\ninputEl.addEventListener(\"input\", () => inputEl.classList.remove(\"error\"));\n\n// Value Change - Select Element\nselect.addEventListener(\"change\", () => {\n  select.classList.remove(\"error\");\n  select.blur();\n});\n\n// Click - Pagination Buttons\npaginationContainer.addEventListener(\"click\", (e) => {\n  const btn = e.target.closest(\".btn--pagination\");\n\n  if (!btn) return;\n\n  const pageNum = +btn.dataset.goto;\n  const pageData = perPageData(pageNum);\n\n  renderCountry(pageData);\n  renderPagination();\n\n  dataInfoContainer.scrollIntoView({\n    behavior: \"smooth\",\n  });\n});\n\n// Functions\n\n// loader\nconst renderLoader = function () {\n  const html = `<div class=\"loader\"></div>`;\n\n  countriesContainer.innerHTML = \"\";\n  paginationContainer.innerHTML = \"\";\n\n  dataInfoContainer.innerHTML = html;\n};\n\n// results\nconst showResults = function (number) {\n  if (number > 1) {\n    const html = `  \n    <div class=\"result\">\n      We've got <span>${number}</span> result(s):\n    </div>`;\n\n    dataInfoContainer.innerHTML = html;\n  } else {\n    dataInfoContainer.innerHTML = \"\";\n  }\n};\n\n// error\nconst renderError = function (error) {\n  const html = `\n    <p class=\"error-msg\">${error.message}! Try again!</p>\n  `;\n\n  countriesContainer.innerHTML = \"\";\n  paginationContainer.innerHTML = \"\";\n\n  dataInfoContainer.innerHTML = html;\n};\n\n// Paginaion\nconst perPageData = function (page = search.page) {\n  search.page = page;\n\n  const start = (page - 1) * search.resultsPerPage;\n  const end = page * search.resultsPerPage;\n\n  return search.results.slice(start, end);\n};\n\n// Main\n\n// Get the Country Data\nconst getCountry = function () {\n  // render error if input is empty\n  if (!inputEl.value) {\n    inputEl.classList.add(\"error\");\n    inputEl.focus();\n    return;\n  }\n  // render error if selection is empty\n  if (!select.value) {\n    select.classList.add(\"error\");\n    select.focus();\n    return;\n  }\n\n  // render loader\n  renderLoader();\n\n  // process user's entered data\n  const url = API_URLS[select.value];\n  const country = inputEl.value;\n\n  // empty input field\n  inputEl.value = \"\";\n\n  // get country based on user's selections\n  getJSON(`${url}${country}`)\n    .then((data) => {\n      // clear results array to start over\n      search.results = [];\n      // push each country data to results array\n      data.forEach((country) => {\n        search.results.push(country);\n      });\n\n      // start pages from 1\n      search.page = 1;\n      // chop results and get per page data\n      const pageData = perPageData();\n\n      // render single page data\n      renderCountry(pageData);\n    })\n    .catch((error) => renderError(error));\n};\n\n// Render The Country Data\nconst renderCountry = function (data) {\n  // clear field\n  countriesContainer.innerHTML = \"\";\n\n  // render results number\n  showResults(search.results.length);\n\n  // gather all information\n  data.forEach((country) => {\n    // not every country has coat of arms, so defining alternative htmls\n    const coa = `<img src=\"${country.coatOfArms.svg}\"\n                    alt=\"coat of arms of the country\"/>`;\n\n    const notFound = `\n                <div class=\"not-found\">A Coat of Arms not found!</div>\n                     `;\n\n    // not every country has defined currency\n    let currenciesName, currenciesSymbol;\n\n    if (country.currencies) {\n      currenciesName = Object.values(country.currencies).at(0).name;\n    } else {\n      currenciesName = \"No Information\";\n    }\n\n    if (country.currencies) {\n      currenciesSymbol = Object.values(country.currencies).at(0).symbol;\n    } else {\n      currenciesSymbol = \"\";\n    }\n\n    // computing population in millions or if less in thousands\n    let population;\n    if (country.population === 0) {\n      population = \"Unknown\";\n    } else if (country.population / 1_000_000 < 0.01) {\n      population = `${country.population} thousands`;\n    } else {\n      population = `${(country.population / 1_000_000).toFixed(2)} million`;\n    }\n\n    // defining a country rendering html\n    const html = `\n      <article class=\"country\">\n      <div class=\"country__data\">\n      <div>\n        <h2 class=\"c-name\">${country.name?.common} <span> ${\n      country.flag\n    } </span></h2>\n      </div>\n      <div>\n        <h3><span>Official Name: </span>${country.name.official}</h3>\n        <p><span>Native Name: </span>${\n          Object.values(country.name.nativeName)[0].official\n        }</p>\n        <p><span>Also Spelled As: </span>${country.altSpellings.join(\", \")}</p>\n        <p><span>Capital: </span>${\n          country.capital?.join(\", \") || \"No Information\"\n        }</p>\n        <p><span>Language: </span>${Object.values(country.languages).join(\n          \", \"\n        )}</p>\n        <p><span>Population: </span>${population}</p>\n        <p><span>Area: </span>${country.area / 1000} km</p>\n        <p><span>Currency: </span>${currenciesName} (${currenciesSymbol})</p>\n        <p><span>Continent: </span>${country.continents}</p>\n        <p><span>Region: </span>${country.region}</p>\n        <p><span>Subregion: </span>${country.subregion}</p>\n        <p><span>Time Zone(s): </span>${country.timezones.join(\", \")}</p>\n        </div>\n        </div>\n        <div class=\"country__images\">\n          <div class=\"coa\">\n          ${country.coatOfArms?.svg ? coa : notFound}\n          </div>\n          <div class=\"flag\">\n            <img src=\"${country.flags?.svg}\" alt=\"flag of the country\"/>\n          </div>\n        </div>\n    </article>\n          `;\n\n    // render country data\n    countriesContainer.insertAdjacentHTML(\"beforeend\", html);\n  });\n\n  // render page buttons\n  paginationContainer.innerHTML = renderPagination();\n};\n\nconst renderPagination = function () {\n  const currPage = search.page;\n  const numPages = Math.ceil(search.results.length / search.resultsPerPage);\n\n  if (currPage === 1 && numPages > 1) {\n    return `\n      <button data-goto=\"${currPage + 1}\" class=\"btn--pagination btn--next\">\n        <span>Page ${currPage + 1}</span>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"40\" viewBox=\"0 96 960 960\" width=\"40\"><path d=\"M250.77 643.025h50.255q5.769-61.308 52.513-103.09 46.744-41.782 110.975-41.782 41.282 0 86.013 24.898 44.732 24.898 73.783 69.719h-89.488v50.255h173.64v-173.64h-50.255v88.258q-36.616-55.078-90.014-82.411-53.397-27.334-103.679-27.334-86.179 0-146.692 56.679-60.512 56.679-67.051 138.448Zm229.297 312.974q-78.426 0-147.666-29.92t-120.887-81.544q-51.647-51.624-81.58-120.833-29.933-69.21-29.933-147.635 0-78.836 29.92-148.204 29.92-69.369 81.544-120.682 51.624-51.314 120.833-81.247 69.21-29.933 147.635-29.933 78.836 0 148.204 29.92 69.369 29.92 120.682 81.21 51.314 51.291 81.247 120.629 29.933 69.337 29.933 148.173 0 78.426-29.92 147.666t-81.21 120.887q-51.291 51.647-120.629 81.58-69.337 29.933-148.173 29.933ZM480 905.744q137.795 0 233.769-96.18Q809.744 713.385 809.744 576q0-137.795-95.975-233.769Q617.795 246.256 480 246.256q-137.385 0-233.564 95.975-96.18 95.974-96.18 233.769 0 137.385 96.18 233.564 96.179 96.18 233.564 96.18ZM480 576Z\"/></svg>\n      </button>\n    `;\n  }\n\n  if (currPage === numPages && numPages > 1) {\n    return `\n      <button data-goto=\"${currPage - 1}\" class=\"btn--pagination btn--prev\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"40\" viewBox=\"0 96 960 960\" width=\"40\"><path d=\"M250.77 643.025h50.255q5.769-61.308 52.513-103.09 46.744-41.782 110.975-41.782 41.282 0 86.013 24.898 44.732 24.898 73.783 69.719h-89.488v50.255h173.64v-173.64h-50.255v88.258q-36.616-55.078-90.014-82.411-53.397-27.334-103.679-27.334-86.179 0-146.692 56.679-60.512 56.679-67.051 138.448Zm229.297 312.974q-78.426 0-147.666-29.92t-120.887-81.544q-51.647-51.624-81.58-120.833-29.933-69.21-29.933-147.635 0-78.836 29.92-148.204 29.92-69.369 81.544-120.682 51.624-51.314 120.833-81.247 69.21-29.933 147.635-29.933 78.836 0 148.204 29.92 69.369 29.92 120.682 81.21 51.314 51.291 81.247 120.629 29.933 69.337 29.933 148.173 0 78.426-29.92 147.666t-81.21 120.887q-51.291 51.647-120.629 81.58-69.337 29.933-148.173 29.933ZM480 905.744q137.795 0 233.769-96.18Q809.744 713.385 809.744 576q0-137.795-95.975-233.769Q617.795 246.256 480 246.256q-137.385 0-233.564 95.975-96.18 95.974-96.18 233.769 0 137.385 96.18 233.564 96.179 96.18 233.564 96.18ZM480 576Z\"/></svg>\n        <span>Page ${currPage - 1}</span>\n      </button>\n    `;\n  }\n\n  if (currPage < numPages) {\n    return `\n      <button data-goto=\"${currPage - 1}\" class=\"btn--pagination btn--prev\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"40\" viewBox=\"0 96 960 960\" width=\"40\"><path d=\"M250.77 643.025h50.255q5.769-61.308 52.513-103.09 46.744-41.782 110.975-41.782 41.282 0 86.013 24.898 44.732 24.898 73.783 69.719h-89.488v50.255h173.64v-173.64h-50.255v88.258q-36.616-55.078-90.014-82.411-53.397-27.334-103.679-27.334-86.179 0-146.692 56.679-60.512 56.679-67.051 138.448Zm229.297 312.974q-78.426 0-147.666-29.92t-120.887-81.544q-51.647-51.624-81.58-120.833-29.933-69.21-29.933-147.635 0-78.836 29.92-148.204 29.92-69.369 81.544-120.682 51.624-51.314 120.833-81.247 69.21-29.933 147.635-29.933 78.836 0 148.204 29.92 69.369 29.92 120.682 81.21 51.314 51.291 81.247 120.629 29.933 69.337 29.933 148.173 0 78.426-29.92 147.666t-81.21 120.887q-51.291 51.647-120.629 81.58-69.337 29.933-148.173 29.933ZM480 905.744q137.795 0 233.769-96.18Q809.744 713.385 809.744 576q0-137.795-95.975-233.769Q617.795 246.256 480 246.256q-137.385 0-233.564 95.975-96.18 95.974-96.18 233.769 0 137.385 96.18 233.564 96.179 96.18 233.564 96.18ZM480 576Z\"/></svg>\n        <span>Page ${currPage - 1}</span>\n      </button>\n\n      <button data-goto=\"${currPage + 1}\" class=\"btn--pagination btn--next\">\n        <span>Page ${currPage + 1}</span>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"40\" viewBox=\"0 96 960 960\" width=\"40\"><path d=\"M250.77 643.025h50.255q5.769-61.308 52.513-103.09 46.744-41.782 110.975-41.782 41.282 0 86.013 24.898 44.732 24.898 73.783 69.719h-89.488v50.255h173.64v-173.64h-50.255v88.258q-36.616-55.078-90.014-82.411-53.397-27.334-103.679-27.334-86.179 0-146.692 56.679-60.512 56.679-67.051 138.448Zm229.297 312.974q-78.426 0-147.666-29.92t-120.887-81.544q-51.647-51.624-81.58-120.833-29.933-69.21-29.933-147.635 0-78.836 29.92-148.204 29.92-69.369 81.544-120.682 51.624-51.314 120.833-81.247 69.21-29.933 147.635-29.933 78.836 0 148.204 29.92 69.369 29.92 120.682 81.21 51.314 51.291 81.247 120.629 29.933 69.337 29.933 148.173 0 78.426-29.92 147.666t-81.21 120.887q-51.291 51.647-120.629 81.58-69.337 29.933-148.173 29.933ZM480 905.744q137.795 0 233.769-96.18Q809.744 713.385 809.744 576q0-137.795-95.975-233.769Q617.795 246.256 480 246.256q-137.385 0-233.564 95.975-96.18 95.974-96.18 233.769 0 137.385 96.18 233.564 96.179 96.18 233.564 96.18ZM480 576Z\"/></svg>\n      </button>\n    `;\n  }\n\n  return \"\";\n};\n"],"names":["$ef19e442e0cefa4b$export$bfe19bc25132bb7c","byName","byCapital","byLanguage","byRegion","bySubRegion","$305e87f8b1fd70ca$export$d047a7c56db64af4","url","Promise","race","fetch","sec","_","reject","setTimeout","Error","then","response","ok","status","json","catch","error","$1ee2b6306238ec66$var$inputEl","document","getElementById","$1ee2b6306238ec66$var$select","$1ee2b6306238ec66$var$btnSearch","$1ee2b6306238ec66$var$dataInfoContainer","$1ee2b6306238ec66$var$countriesContainer","querySelector","$1ee2b6306238ec66$var$paginationContainer","$1ee2b6306238ec66$var$search","results","page","resultsPerPage","addEventListener","$1ee2b6306238ec66$var$getCountry","blur","e","key","classList","remove","btn","target","closest","pageNum","dataset","goto","pageData","$1ee2b6306238ec66$var$perPageData","$1ee2b6306238ec66$var$renderCountry","$1ee2b6306238ec66$var$renderPagination","scrollIntoView","behavior","start","end","slice","value","add","focus","innerHTML","country","data","forEach","push","html","message","$1ee2b6306238ec66$var$renderError","number","$1ee2b6306238ec66$var$showResults","length","coa","coatOfArms","svg","currenciesName","currenciesSymbol","population","currencies","Object","values","at","name","symbol","toFixed","common","flag","official","nativeName","altSpellings","join","capital","languages","area","continents","region","subregion","timezones","flags","insertAdjacentHTML","currPage","numPages","Math","ceil"],"version":3,"file":"index.e7685fc2.js.map"}